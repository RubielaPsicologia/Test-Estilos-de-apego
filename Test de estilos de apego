<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Estilos de Apego - Descubre C√≥mo Amas</title>
    <meta name="description" content="Descubre c√≥mo tu estilo de apego influye en tus relaciones rom√°nticas, familiares y de amistad. Test psicol√≥gico gratuito de 2 minutos.">
    <meta property="og:title" content="Quiz: ¬øC√≥mo Afecta tu Estilo de Apego a tus Relaciones?">
    <meta property="og:description" content="Descubre los patrones √∫nicos en tus relaciones y aprende a crear conexiones m√°s profundas. Solo 2 minutos.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?w=1200&h=630&fit=crop">
    <meta property="og:type" content="website">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; 
            margin: 0;
            padding: 0;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        .fade-out {
            animation: fadeOut 0.3s ease-out;
            opacity: 0;
            transform: scale(0.95);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; transform: scale(1); }
            to { opacity: 0; transform: scale(0.95); }
        }

        .icon-heart::before { content: "üíù"; }
        .icon-zap::before { content: "‚ö°"; }
        .icon-shield::before { content: "üõ°Ô∏è"; }
        .icon-users::before { content: "üåä"; }
        .icon-chevron::before { content: "‚Üí"; }
        
        .gradient-bg {
            background: linear-gradient(135deg, #2d4a60 0%, #7fb8a3 35%, #d4af37 70%, #f4a688 100%);
            min-height: 100vh;
        }
    </style>
</head>
<body>
    <div class="gradient-bg flex items-center justify-center p-4">
        <div class="max-w-2xl w-full">
            <!-- Welcome Screen -->
            <div id="welcome-screen" class="text-center space-y-8 fade-in">
                <div class="relative">
                    <div class="absolute inset-0 blur-3xl bg-gradient-to-r from-pink-500 to-violet-600 opacity-30 rounded-full"></div>
                    <h1 class="relative text-4xl md:text-6xl font-bold text-white mb-4 tracking-tight">
                        Descubre Tu
                        <span class="block text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-violet-400">
                            Estilo de Apego
                        </span>
                    </h1>
                </div>
                
                <div class="bg-white/10 backdrop-blur-md rounded-3xl p-6 md:p-8 shadow-2xl">
                    <p class="text-lg md:text-xl text-gray-200 max-w-lg mx-auto leading-relaxed mb-6">
                        Tus relaciones no son casualidad. La forma en que te acercas a otros, manejas los conflictos o pides apoyo tiene ra√≠ces profundas. A esto lo llamamos tu <strong>estilo de apego</strong>.
                    </p>
                    
                    <p class="text-base md:text-lg text-gray-300 max-w-md mx-auto leading-relaxed mb-6">
                        Este test te ayudar√° a identificar tu patr√≥n predominante en pareja, familia y amistades. No hay resultados "correctos" o "incorrectos": cada estilo tiene fortalezas √∫nicas y oportunidades de crecimiento.
                    </p>
                    
                    <p class="text-base text-gray-300 max-w-md mx-auto leading-relaxed">
                        Al final recibir√°s una descripci√≥n personalizada de tu estilo y c√≥mo influye en tus v√≠nculos. Es el primer paso para crear relaciones m√°s conscientes y satisfactorias.
                    </p>
                </div>
                
                <button id="start-btn" class="group relative inline-flex items-center gap-3 bg-gradient-to-r from-yellow-600 to-yellow-500 text-white px-8 py-4 rounded-full font-semibold text-lg transition-all duration-300 hover:from-yellow-500 hover:to-yellow-400 hover:scale-105 hover:shadow-2xl shadow-lg" style="background: linear-gradient(135deg, #d4af37 0%, #f4a688 100%);">
                    <span>Comienza el Test</span>
                    <span class="icon-chevron text-xl transition-transform group-hover:translate-x-1"></span>
                    <div class="absolute inset-0 rounded-full bg-gradient-to-r from-yellow-400 to-orange-400 opacity-0 group-hover:opacity-20 transition-opacity blur-xl"></div>
                </button>
            </div>

            <!-- Quiz Screen -->
            <div id="quiz-screen" class="space-y-8 hidden">
                <div class="flex justify-between items-center mb-8">
                    <div id="progress-bar" class="flex gap-2">
                        <!-- Progress bars will be inserted here -->
                    </div>
                    <span id="progress-text" class="text-white/60 text-sm font-medium"></span>
                </div>

                <div class="bg-white/10 backdrop-blur-md rounded-3xl p-6 md:p-8 shadow-2xl">
                    <h2 id="question-text" class="text-xl md:text-2xl font-bold text-white mb-8 leading-relaxed"></h2>
                    <div id="options-container" class="space-y-3">
                        <!-- Options will be inserted here -->
                    </div>
                </div>
            </div>

            <!-- Result Screen -->
            <div id="result-screen" class="space-y-8 hidden">
                <div class="text-center">
                    <div id="result-icon" class="inline-flex p-6 rounded-full text-white mb-6 shadow-2xl text-6xl">
                        <!-- Icon will be inserted here -->
                    </div>
                    
                    <h2 id="result-title" class="text-3xl md:text-4xl font-bold text-white mb-4"></h2>
                </div>

                <div class="bg-white/10 backdrop-blur-md rounded-3xl p-6 md:p-8 shadow-2xl space-y-6">
                    <div id="result-description" class="text-lg md:text-xl text-gray-200 leading-relaxed"></div>
                    
                    <div id="result-details" class="text-base md:text-lg text-gray-300 leading-relaxed space-y-4">
                        <!-- Detailed content will be inserted here -->
                    </div>
                </div>

                <div class="bg-white/5 backdrop-blur-sm rounded-3xl p-6 md:p-8 shadow-xl">
                    <h3 class="text-xl md:text-2xl font-semibold text-white mb-4">¬øQu√© sigue ahora?</h3>
                    <p class="text-gray-200 leading-relaxed mb-6">
                        Conocer tu estilo de apego es solo el primer paso. Lo realmente transformador es c√≥mo usas esta informaci√≥n para crear relaciones m√°s conscientes y satisfactorias.
                    </p>
                    
                    <div class="space-y-4">
                        <p class="text-gray-300">Si quieres profundizar y llevar este descubrimiento a la pr√°ctica, tienes dos caminos:</p>
                        
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-white/10 rounded-xl p-4">
                                <h4 class="font-semibold text-white mb-2">Gu√≠a completa</h4>
                                <p class="text-gray-300 text-sm">Ejemplos pr√°cticos, ejercicios y estrategias para fortalecer tus relaciones desde tu estilo √∫nico.</p>
                            </div>
                            
                            <div class="bg-white/10 rounded-xl p-4">
                                <h4 class="font-semibold text-white mb-2">Consulta personalizada</h4>
                                <p class="text-gray-300 text-sm">Trabajamos tu caso espec√≠fico, explorando tus patrones y dise√±ando nuevas formas de vincularte.</p>
                            </div>
                        </div>
                        
                        <p class="text-gray-200 text-center italic">Elige la opci√≥n que m√°s resuene contigo y da el siguiente paso en tu crecimiento personal.</p>
                    </div>
                </div>

                <div class="text-center">
                    <button id="restart-btn" class="group relative inline-flex items-center gap-3 bg-gradient-to-r from-yellow-600 to-yellow-500 text-white px-8 py-4 rounded-full font-semibold text-lg transition-all duration-300 hover:from-yellow-500 hover:to-yellow-400 hover:scale-105 hover:shadow-2xl shadow-lg" style="background: linear-gradient(135deg, #d4af37 0%, #f4a688 100%);">
                        <span>Tomar Test Nuevamente</span>
                        <span class="icon-chevron text-xl transition-transform group-hover:translate-x-1"></span>
                        <div class="absolute inset-0 rounded-full bg-gradient-to-r from-yellow-400 to-orange-400 opacity-0 group-hover:opacity-20 transition-opacity blur-xl"></div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Quiz data and logic
        const questions = [
            {
                text: "En una relaci√≥n rom√°ntica, cuando mi pareja necesita espacio, yo...",
                options: [
                    { text: "Lo respeto y conf√≠o en que volver√° cuando est√© listo, aunque a veces me preocupe un poco", score: { secure: 3, anxious: 0, avoidant: 1, fearful: 1 } },
                    { text: "Me inquieto porque siento que algo puede estar mal entre nosotros", score: { secure: 0, anxious: 3, avoidant: 0, fearful: 2 } },
                    { text: "Me enfoco en mis propias actividades, aunque en el fondo me cuesta expresar lo que siento", score: { secure: 1, anxious: 0, avoidant: 3, fearful: 1 } },
                    { text: "Me siento rechazado y al mismo tiempo culpable por sentirme as√≠", score: { secure: 0, anxious: 1, avoidant: 1, fearful: 3 } }
                ]
            },
            {
                text: "Cuando tengo un desacuerdo importante con un amigo cercano, mi reacci√≥n natural es...",
                options: [
                    { text: "Hablo del tema directamente, aunque a veces me cueste encontrar el momento adecuado", score: { secure: 3, anxious: 1, avoidant: 0, fearful: 0 } },
                    { text: "Siento urgencia por resolverlo porque me genera mucha inquietud", score: { secure: 2, anxious: 3, avoidant: 0, fearful: 1 } },
                    { text: "Prefiero tomarme tiempo para reflexionar, aunque esto pueda interpretarse como distancia", score: { secure: 0, anxious: 0, avoidant: 3, fearful: 2 } },
                    { text: "Evito el conflicto para mantener la paz, pero luego me quedo con la sensaci√≥n de no haber sido aut√©ntico", score: { secure: 0, anxious: 1, avoidant: 1, fearful: 3 } }
                ]
            },
            {
                text: "En mis relaciones familiares, cuando atravieso una situaci√≥n dif√≠cil...",
                options: [
                    { text: "Puedo pedir apoyo sin sentirme una carga, aunque a veces me cueste ser espec√≠fico sobre lo que necesito", score: { secure: 3, anxious: 1, avoidant: 0, fearful: 0 } },
                    { text: "Busco mucha validaci√≥n y tranquilidad porque me ayuda a sentirme m√°s seguro", score: { secure: 0, anxious: 3, avoidant: 0, fearful: 1 } },
                    { text: "Prefiero resolver las cosas por mi cuenta, aunque valoro saber que est√°n disponibles", score: { secure: 0, anxious: 0, avoidant: 3, fearful: 1 } },
                    { text: "Quiero apoyo pero me da miedo ser vulnerable, as√≠ que env√≠o se√±ales contradictorias", score: { secure: 1, anxious: 1, avoidant: 1, fearful: 3 } }
                ]
            },
            {
                text: "En una cita o al conocer a alguien que me interesa, me siento m√°s c√≥modo cuando...",
                options: [
                    { text: "Hay fluidez natural entre momentos profundos y conversaci√≥n ligera, sin forzar ninguno", score: { secure: 3, anxious: 0, avoidant: 1, fearful: 0 } },
                    { text: "Puedo expresar inter√©s genuino y hablar de lo que realmente me importa sin filtros", score: { secure: 1, anxious: 3, avoidant: 0, fearful: 1 } },
                    { text: "Mantengo cierto misterio personal mientras disfruto conocer a la otra persona", score: { secure: 1, anxious: 0, avoidant: 3, fearful: 1 } },
                    { text: "Siento conexi√≥n intensa pero tambi√©n necesidad de protegerme de posibles decepciones", score: { secure: 0, anxious: 1, avoidant: 0, fearful: 3 } }
                ]
            },
            {
                text: "Si un amigo cancela nuestros planes a √∫ltimo momento, t√≠picamente...",
                options: [
                    { text: "Lo entiendo y reagendamos, aunque me permito sentir una peque√±a decepci√≥n", score: { secure: 3, anxious: 0, avoidant: 0, fearful: 0 } },
                    { text: "Me afecta m√°s de lo que me gustar√≠a y busco entender qu√© pas√≥ realmente", score: { secure: 0, anxious: 3, avoidant: 0, fearful: 1 } },
                    { text: "No me molesta demasiado porque siempre tengo un plan B, aunque me quedo pensando", score: { secure: 1, anxious: 0, avoidant: 3, fearful: 1 } },
                    { text: "Me genera dudas sobre nuestra amistad, aunque trato de no dramatizar", score: { secure: 0, anxious: 1, avoidant: 0, fearful: 3 } }
                ]
            },
            {
                text: "En una relaci√≥n estable, mi forma natural de expresar cari√±o es...",
                options: [
                    { text: "A trav√©s de gestos consistentes y palabras que reflejan realmente lo que siento", score: { secure: 3, anxious: 0, avoidant: 1, fearful: 0 } },
                    { text: "Siendo muy presente y buscando crear muchos momentos de conexi√≥n juntos", score: { secure: 0, anxious: 3, avoidant: 0, fearful: 1 } },
                    { text: "Mostrando mi cari√±o de maneras pr√°cticas, aunque me cueste ser muy expresivo verbalmente", score: { secure: 1, anxious: 0, avoidant: 3, fearful: 1 } },
                    { text: "Con intensidad genuina que a veces var√≠a seg√∫n mi estado emocional", score: { secure: 0, anxious: 1, avoidant: 0, fearful: 3 } }
                ]
            }
        ];

        const attachmentStyles = {
            secure: {
                title: "Apego Seguro",
                icon: "üíù",
                color: "from-emerald-400 to-teal-500", 
                bgColor: "#10b981",
                description: "Te sientes c√≥modo tanto con la cercan√≠a como con la independencia. Sueles comunicar lo que necesitas de manera clara y generas confianza en quienes te rodean.",
                details: [
                    "Tu base s√≥lida hace que muchas de tus relaciones sean estables y satisfactorias. Tienes la capacidad de mantener tu individualidad sin alejarte emocionalmente de otros.",
                    "A veces, sin darte cuenta, puedes priorizar tanto la armon√≠a que dejas de lado tus propias necesidades. Prestar atenci√≥n a esos momentos te ayudar√° a mantener un equilibrio a√∫n m√°s sano.",
                    "Tu estilo es naturalmente un refugio seguro para otros. Al mismo tiempo, puedes crecer explorando c√≥mo mantener tu autenticidad incluso cuando surgen diferencias o conflictos."
                ]
            },
            anxious: {
                title: "Apego Ansioso",
                icon: "‚ö°",
                color: "from-orange-400 to-red-500",
                bgColor: "#f97316",
                description: "Buscas conexi√≥n profunda pero a menudo esto viene acompa√±ado de preocupaci√≥n excesiva por la estabilidad de tus relaciones. Esta necesidad constante de validaci√≥n puede estar generando m√°s ansiedad de la que te mereces.",
                details: [
                    "Es probable que reconozcas algunos patrones: revisar constantemente mensajes, interpretar silencios como rechazo, o sentir que das mucho m√°s de lo que recibes. Aunque tu capacidad emp√°tica es real, puede estar combinada con una sensaci√≥n de inseguridad que te agota.",
                    "Este patr√≥n suele llevar a relaciones donde la ansiedad es protagonista, creando din√°micas de perseguir-alejarse que terminan confirmando tus peores temores. No es que seas 'demasiado sensible', sino que has aprendido a hipervigilar las relaciones.",
                    "Con trabajo consciente puedes canalizar tu sensibilidad genuina sin la carga de la ansiedad constante. Muchas personas con este estilo logran desarrollar relaciones m√°s tranquilas cuando aprenden estrategias de autorregulaci√≥n emocional."
                ]
            },
            avoidant: {
                title: "Apego Evitativo",
                icon: "üõ°Ô∏è",
                color: "from-sky-400 to-blue-600",
                bgColor: "#0ea5e9",
                description: "Valoras profundamente tu independencia y prefieres mantener cierto espacio emocional. Sueles ser confiable y estable en tus v√≠nculos.",
                details: [
                    "Tu capacidad de mantener la calma y pensar con claridad es muy valiosa en las relaciones. Otros te ven como alguien en quien pueden confiar y que no los asfixiar√° emocionalmente.",
                    "Esa necesidad de distancia a veces puede interpretarse como frialdad, incluso cuando s√≠ te importa profundamente la relaci√≥n. Abrirte gradualmente al intercambio emocional fortalece los v√≠nculos sin comprometer tu autonom√≠a.",
                    "Tu serenidad y sentido de responsabilidad son fortalezas genuinas. Cuando logras compartir m√°s de tu mundo interno, otros pueden conectar contigo de manera m√°s profunda y segura."
                ]
            },
            fearful: {
                title: "Apego Desorganizado",
                icon: "üåä",
                color: "from-violet-500 to-purple-600",
                bgColor: "#8b5cf6",
                description: "Experimentas una mezcla intensa entre desear cercan√≠a y temerla al mismo tiempo. Este patr√≥n, aunque comprensible por tu historia, puede estar generando m√°s sufrimiento del necesario en tus relaciones.",
                details: [
                    "Es posible que reconozcas patrones repetitivos: atraer o ser atra√≠do hacia relaciones complicadas, sentir que las relaciones son impredecibles, o vivir una monta√±a rusa emocional constante. Estos no son defectos de car√°cter, sino estrategias aprendidas en situaciones donde el amor y el miedo estaban mezclados.",
                    "La buena noticia es que el apego desorganizado es el que m√°s puede beneficiarse del trabajo terap√©utico. Con el acompa√±amiento adecuado, es posible desarrollar un estilo m√°s seguro y experimentar relaciones m√°s estables y satisfactorias.",
                    "Tu sensibilidad emocional, cuando se integra en un contexto de seguridad, puede convertirse en una gran fortaleza para crear v√≠nculos profundos. El primer paso es reconocer estos patrones, y ya lo has dado al hacer este test."
                ]
            }
        };

        // State
        let currentQuestion = 0;
        let answers = [];
        let isAnimating = false;

        // DOM elements
        const welcomeScreen = document.getElementById('welcome-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');

        // Functions
        function showScreen(screenName) {
            if (isAnimating) return;
            isAnimating = true;

            // Hide all screens
            [welcomeScreen, quizScreen, resultScreen].forEach(screen => {
                screen.classList.add('fade-out');
                screen.classList.remove('fade-in');
            });

            setTimeout(() => {
                [welcomeScreen, quizScreen, resultScreen].forEach(screen => {
                    screen.classList.add('hidden');
                });

                // Show target screen
                const targetScreen = document.getElementById(screenName + '-screen');
                targetScreen.classList.remove('hidden');
                targetScreen.classList.remove('fade-out');
                targetScreen.classList.add('fade-in');
                
                isAnimating = false;
            }, 300);
        }

        function updateProgressBar() {
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            
            progressBar.innerHTML = '';
            for (let i = 0; i < questions.length; i++) {
                const bar = document.createElement('div');
                bar.className = `h-2 rounded-full transition-all duration-500 ${
                    i < currentQuestion
                        ? 'w-12 bg-gradient-to-r'
                        : i === currentQuestion
                        ? 'w-16'
                        : 'w-8 bg-white/20'
                }`;
                
                if (i < currentQuestion) {
                    bar.style.background = 'linear-gradient(90deg, #7fb8a3 0%, #d4af37 100%)';
                } else if (i === currentQuestion) {
                    bar.style.backgroundColor = '#10b981';
                }
                
                progressBar.appendChild(bar);
            }
            
            progressText.textContent = `${currentQuestion + 1} de ${questions.length}`;
        }

        function displayQuestion() {
            const question = questions[currentQuestion];
            document.getElementById('question-text').textContent = question.text;
            
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'w-full text-left p-4 md:p-6 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 text-white transition-all duration-300 hover:bg-white/10 hover:border-white/30 hover:scale-[1.02] hover:shadow-lg';
                button.innerHTML = `<span class="text-base md:text-lg leading-relaxed">${option.text}</span>`;
                button.onclick = () => handleAnswer(option);
                optionsContainer.appendChild(button);
            });

            updateProgressBar();
        }

        function handleAnswer(option) {
            if (isAnimating) return;
            
            answers.push(option);
            
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                displayQuestion();
            } else {
                showResult();
            }
        }

        function calculateResult() {
            const scores = { secure: 0, anxious: 0, avoidant: 0, fearful: 0 };
            
            answers.forEach(answer => {
                Object.keys(scores).forEach(style => {
                    scores[style] += answer.score[style];
                });
            });

            const maxScore = Math.max(...Object.values(scores));
            return Object.keys(scores).find(key => scores[key] === maxScore);
        }

        function showResult() {
            const result = calculateResult();
            const style = attachmentStyles[result];
            
            // Update result display
            const resultIcon = document.getElementById('result-icon');
            resultIcon.textContent = style.icon;
            resultIcon.className = `inline-flex p-6 rounded-full text-white mb-6 shadow-2xl text-6xl`;
            resultIcon.style.backgroundColor = style.bgColor;
            
            document.getElementById('result-title').textContent = style.title;
            document.getElementById('result-description').textContent = style.description;
            
            // Display detailed content
            const resultDetails = document.getElementById('result-details');
            resultDetails.innerHTML = '';
            style.details.forEach(detail => {
                const paragraph = document.createElement('p');
                paragraph.textContent = detail;
                resultDetails.appendChild(paragraph);
            });
            
            showScreen('result');
        }

        function restart() {
            currentQuestion = 0;
            answers = [];
            showScreen('welcome');
        }

        function startQuiz() {
            currentQuestion = 0;
            answers = [];
            displayQuestion();
            showScreen('quiz');
        }

        // Event listeners
        startBtn.addEventListener('click', startQuiz);
        restartBtn.addEventListener('click', restart);

        // Initialize
        console.log('Quiz de Estilos de Apego cargado correctamente');
    </script>
</body>
</html>
